<?xml version="1.0" encoding="utf-8"?>
<launch>
    <arg name="veh" default="$(env VEHICLE_NAME)" />

    <!-- Include main stack but disable FSM logic -->
    <include file="$(find duckietown_demos)/launch/master.launch">
        <arg name="veh" value="$(arg veh)" />
        <arg name="demo_name" value="lane_following" />
        <arg name="param_file_name" value="default" />
        <arg name="visualization" value="false" />
        <arg name="apriltags" value="true" />

        <!-- ❌ Disable automatic FSM logic -->
        <arg name="fsm" value="false" />
    </include>

    <!-- ✅ Explicit FSM node without logic -->
    <include file="$(find duckietown_demos)/launch/fsm_node.launch">
        <arg name="veh" value="$(arg veh)" />
        <arg name="logic_gate" value="false" />
    </include>
</launch>

